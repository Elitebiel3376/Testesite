<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Player - NeonFlix</title>
<style>
body{margin:0;background:#000;color:#fff;font-family:Arial,sans-serif;}
header{display:flex;align-items:center;justify-content:space-between;padding:15px 30px;background:#0a0a0a;border-bottom:2px solid red;}
.logo{color:red;font-weight:bold;}
.back-btn{background:red;color:#fff;padding:8px 14px;border-radius:16px;text-decoration:none;}
.container{padding:30px;display:flex;flex-direction:column;align-items:center;gap:18px;}
#titulo{color:red;font-size:1.6rem;text-shadow:0 0 8px red;}
video{width:90%;max-width:1000px;border-radius:10px;box-shadow:0 0 30px red;background:#000;}
.episodios{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;}
.episodios button{background:#b30000;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;}
.episodios button:hover{background:#ff3333;}
.msg{color:#ccc;}
</style>
</head>
<body>
<header>
  <div class="logo">NEONFLIX</div>
  <a href="index.html" class="back-btn">⬅ Voltar</a>
</header>

<main class="container">
  <div id="titulo">Carregando...</div>
  <video id="player" controls playsinline></video>
  <div id="episodios" class="episodios"></div>
  <div id="info" class="msg">Escolha um episódio para começar.</div>
</main>

<script>
const params = new URLSearchParams(window.location.search);
const anime = params.get('anime') || 'Demon Slayer';
const tituloEl = document.getElementById('titulo');
const episodiosEl = document.getElementById('episodios');
const infoEl = document.getElementById('info');
const videoEl = document.getElementById('player');

tituloEl.textContent = anime;

/* Episódios disponíveis por anime */
const catalogo = {
  "Demon Slayer": 55, // atualizado
  "Naruto": 220,
  "One Piece": 1000,
  "Arcane": 9,
  "Stranger Things": 34
};

const qtdEps = catalogo[anime] || 1;

/* Cria botões de episódio */
for(let i=1;i<=qtdEps;i++){
  const b = document.createElement('button');
  b.textContent = `EP ${i}`;
  b.onclick = () => {
    videoEl.src = `videos/${anime.replace(/ /g,'')}_EP${i}.mp4`;
    videoEl.load();
    videoEl.play().catch(()=>{});
    infoEl.textContent = `Tocando EP ${i}`;
  };
  episodiosEl.appendChild(b);
}

/* Toca o primeiro episódio por padrão */
videoEl.src = `videos/${anime.replace(/ /g,'')}_EP1.mp4`;
videoEl.load();
videoEl.play().catch(()=>{});
infoEl.textContent = `Tocando EP 1`;
</script>
</body>
</html>